<html>
<head>
<script>

var ctx = null
var position = {x:50, y:50}
var direction = {x:5, y:0}
var visited = []

function start()
{
    ctx = myCanvas.getContext('2d')

    ctx.fillStyle = "yellow"
    ctx.fillRect(0, 0, 800, 800)

    document.onkeydown = function(event)
    {
        //alert(event.keyCode)
        if (event.keyCode == 40)
            direction = {x:0, y:5}
        if (event.keyCode == 38)
            direction = {x:0, y:-5}
        if (event.keyCode == 37)
            direction = {x:-5, y:0}
        if (event.keyCode == 39)
            direction = {x:5, y:0}
    }

    window.requestAnimationFrame(progress)
}

function progress()
{
    ctx.fillStyle = "red"
    ctx.fillRect(position.x, position.y, 10, 10)

    visited.push({x:position.x, y:position.y})
    position.x = position.x + direction.x
    position.y = position.y + direction.y

    var f = visited.forEach(function(a) {
        if (a.x == position.x && a.y == position.y) {
            alert("Game Over!")
            visited = []
            ctx.fillStyle = "yellow"
            ctx.fillRect(0, 0, 800, 800)
        }
    })

    window.requestAnimationFrame(progress)
}


</script>
</head>
<body onload="start()">
    Use the arrow keys to control the snake<br>
    <canvas id="myCanvas" width="800" height="800"></canvas>
<body>
</html>
